=== VaultBox Progress ===
Last updated: 2026-02-09
Last completed feature: F10 — PhotoDetailView
Current status: compiles, all tests passing
Next feature: F11 — VideoPlayerView
Blockers: none
Notes: AuthService is @MainActor class (not actor) because ModelContext isn't Sendable. KeyStorage protocol enables InMemoryKeyStorage for tests. Use @preconcurrency import for KeychainAccess. PINDotsView extracted as reusable component with normal/success/error states. Use 'iPhone 17 Pro' simulator. Added pinLength to AppSettings and getPINLength()/isBiometricsEnabled() helpers to AuthService. LockScreenView auto-verifies on last digit, supports lockout countdown and biometric auto-prompt. VaultService is @MainActor @Observable (same pattern as AuthService). Uses continuation-based wrappers for NSItemProvider async loading. Video imports use AVAssetImageGenerator for thumbnail from first frame. Documents have no thumbnail. VaultError enum with 5 cases. Stats methods use fetchCount/fetch+reduce for storage. VaultGridView uses @Query for reactive SwiftData fetching, computed property for filtering/sorting, @State thumbnail cache with async decryption via .task, VaultSortOrder/VaultFilter enums. Erasing simulator data fixes CoreData migration errors from schema changes. PhotoDetailView uses fullScreenCover from VaultGridView, TabView with .page style for swipe navigation between items, ZoomScrollView (UIScrollView subclass) for pinch zoom up to 5x and double-tap 1x/2x toggle. Overlay bars fade in/out on single tap. Info panel via sheet with .medium detent. Share sheet via ActivityView (UIActivityViewController wrapper). More menu has Move to Album (placeholder for F12), Copy Photo, Export to Camera Roll, Delete. Delete dismisses the detail view.
